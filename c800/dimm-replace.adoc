---
permalink: c800/dimm-replace.html 
sidebar: sidebar 
keywords: aff c800, replace a dimm 
summary: 'É necessário substituir um DIMM no módulo do controlador quando o sistema registar um número crescente de códigos de correção de erros (ECC); se não o fizer, o sistema entra em pânico.' 
---
= Substitua um DIMM - AFF C800
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Substitua um módulo DIMM no seu sistema AFF C800 se forem detectados erros de memória excessivos, corrigíveis ou não corrigíveis. Esses erros podem impedir que o sistema de armazenamento inicialize o ONTAP. O processo de substituição envolve desligar o controlador danificado, removê-lo, substituir o DIMM, reinstalar o controlador e, em seguida, devolver a peça com defeito à NetApp.

.Antes de começar
* Certifique-se de que todos os outros componentes do sistema estão a funcionar corretamente; caso contrário, tem de contactar a assistência técnica.
* Certifique-se de que substitui o componente com falha por um componente de substituição que recebeu da NetApp.




== Passo 1: Desligue o controlador desativado

Desligue ou assuma o controle do controlador com defeito.

Para encerrar o controlador com deficiência, você deve determinar o status do controlador e, se necessário, assumir o controlador para que o controlador saudável continue fornecendo dados do armazenamento do controlador com deficiência.

.Sobre esta tarefa
* Se você tiver um sistema SAN, você deve ter verificado mensagens de  `cluster kernel-service show`evento ) para o blade SCSI do controlador afetado. O `cluster kernel-service show` comando (do modo avançado priv) exibe o nome do nó, link:https://docs.netapp.com/us-en/ontap/system-admin/display-nodes-cluster-task.html["status do quorum"]desse nó, o status de disponibilidade desse nó e o status operacional desse nó.
+
Cada processo SCSI-blade deve estar em quórum com os outros nós no cluster. Qualquer problema deve ser resolvido antes de prosseguir com a substituição.

* Se você tiver um cluster com mais de dois nós, ele deverá estar no quórum. Se o cluster não estiver em quórum ou se um controlador íntegro exibir false para qualificação e integridade, você deverá corrigir o problema antes de encerrar o controlador prejudicado; link:https://docs.netapp.com/us-en/ontap/system-admin/synchronize-node-cluster-task.html?q=Quorum["Sincronize um nó com o cluster"^]consulte .


.Passos
. Se o AutoSupport estiver ativado, suprimir a criação automática de casos invocando uma mensagem AutoSupport:
+
`system node autosupport invoke -node * -type all -message MAINT=<# of hours>h`

+
A seguinte mensagem AutoSupport suprime a criação automática de casos por duas horas:

+
`cluster1:> system node autosupport invoke -node * -type all -message MAINT=2h`

. Desabilitar devolução automática:
+
.. Digite o seguinte comando no console do controlador íntegro:
+
`storage failover modify -node _impaired_node_name_ -auto-giveback false`

.. Digitar `y` quando você vê o prompt _Você quer desabilitar o retorno automático?_


. Leve o controlador prejudicado para o prompt Loader:
+
[cols="1,2"]
|===
| Se o controlador afetado estiver a apresentar... | Então... 


 a| 
O prompt Loader
 a| 
Vá para a próxima etapa.



 a| 
A aguardar pela giveback...
 a| 
Pressione Ctrl-C e responda `y` quando solicitado.



 a| 
Prompt do sistema ou prompt de senha
 a| 
Assuma ou interrompa o controlador prejudicado do controlador saudável:

`storage failover takeover -ofnode _impaired_node_name_ -halt _true_`

O parâmetro _-halt True_ traz para o prompt Loader.

|===




== Passo 2: Remova o módulo do controlador

Deve remover o módulo do controlador do chassis quando substituir o módulo do controlador ou substituir um componente dentro do módulo do controlador.

.Passos
. Se você ainda não está aterrado, aterre-se adequadamente.
. Certifique-se de que todas as unidades no chassis estão firmemente assentadas contra o plano médio, utilizando os polegares para empurrar cada unidade até sentir um batente positivo.
+
.Vídeo - Confirme o assento do motorista
video::2c46e4af-2c21-4f12-b065-b38b003d0ea2[panopto]
+
image::../media/drw_a800_drive_seated_IEOPS-960.svg[Instale os drives]

. Verifique os drivers do controlador com base no status do sistema:
+
.. No controlador em bom funcionamento, verifique se algum grupo RAID ativo está em estado degradado, com falha ou ambos:
+
[source, cli]
----
storage aggregate show -raidstatus !*normal*
----
+
*** Se o comando retornar `There are no entries matching your query.` continuar para<<Check-missing-drives,Vá para a próxima subetapa para verificar se há unidades ausentes.>> .
*** Caso o comando retorne outros resultados, colete os dados do AutoSupport de ambos os controladores e entre em contato com o Suporte da NetApp para obter mais assistência.
+
[source, cli]
----
system node autosupport invoke -node * -type all -message '<message_name>'
----


.. [[Verificar unidades ausentes]]Verifique se há problemas com unidades ausentes, tanto no sistema de arquivos quanto em unidades sobressalentes:
+
[source, cli]
----
event log show -severity * -node * -message-name *disk.missing*
----
+
*** Se o comando retornar `There are no entries matching your query.` continuar para<<remove-power-cables,vá para a próxima etapa>> .
*** Caso o comando retorne outros resultados, colete os dados do AutoSupport de ambos os controladores e entre em contato com o Suporte da NetApp para obter mais assistência.
+
[source, cli]
----
system node autosupport invoke -node * -type all -message '<message_name>'
----




. [[remover-cabos-de-alimentação]]Remova os fixadores dos cabos de alimentação e, em seguida, desconecte os cabos das fontes de alimentação.
. Afrouxe a tira de velcro do dispositivo de gerenciamento de cabos.  Desconecte os cabos do sistema e os módulos SFP/QSFP (se necessário) do módulo controlador.  Anote a localização de cada cabo.
+
Deixe os cabos no dispositivo de gerenciamento de cabos para que, ao reinstalar o dispositivo de gerenciamento de cabos, os cabos sejam organizados.

. Retire o dispositivo de gestão de cabos do módulo do controlador e coloque-o de lado.
. Prima ambos os trincos de bloqueio para baixo e, em seguida, rode ambos os trincos para baixo ao mesmo tempo.
+
O módulo do controlador desloca-se ligeiramente para fora do chassis.

+
image::../media/drw_a800_pcm_remove.png[Retirar o módulo do controlador]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["Legenda número 1"]
 a| 
Trinco de bloqueio



 a| 
image:../media/icon_round_2.png["Legenda número 2"]
 a| 
Pino de bloqueio

|===
. Deslize o módulo do controlador para fora do chassis e coloque-o numa superfície plana e estável.
+
Ao deslizar o módulo controlador para fora do chassi, apoie a parte inferior.





== Passo 3: Substitua o DIMM

Substitua o módulo DIMM no controlador.

Para substituir um DIMM, você deve localizá-lo no módulo do controlador usando a etiqueta de mapa do DIMM na parte superior da conduta de ar e, em seguida, substituí-lo seguindo a sequência específica de etapas.

. Abrir a conduta de ar:
+
.. Pressione as patilhas de bloqueio nas laterais da conduta de ar em direção ao centro do módulo do controlador.
.. Deslize a conduta de ar em direção aos módulos da ventoinha e, em seguida, rode-a para cima até à posição completamente aberta.


. Ao remover um DIMM, desbloqueie a trava de travamento na riser aplicável e remova a riser.
+
image::../media/drw_a800_dimm_replace.png[Substitua um DIMM]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["Legenda número 1"]
 a| 
Tampa da conduta de ar



 a| 
image:../media/icon_round_2.png["Legenda número 2"]
 a| 
Riser 1 e DIMM banco 1 e 3-6



 a| 
Riser 2 e DIMM banco 7-10, 12-13 e 15-18
 a| 
Riser 3 e DIMM 19 -22 e 24

|===
+
*Nota: * Os slots 2 e 14 ficam vazios. Não tente instalar DIMMs nesses slots.

. Observe a orientação do DIMM no soquete para que você possa inserir o DIMM de substituição na orientação adequada.
. Ejete o DIMM de seu slot, empurrando lentamente as duas abas do ejetor do DIMM em ambos os lados do DIMM e, em seguida, deslize o DIMM para fora do slot.
+

NOTE: Segure cuidadosamente o DIMM pelas bordas para evitar a pressão nos componentes da placa de circuito DIMM.

. Remova o DIMM de substituição do saco de transporte antiestático, segure o DIMM pelos cantos e alinhe-o com o slot.
+
O entalhe entre os pinos no DIMM deve estar alinhado com a guia no soquete.

. Insira o DIMM diretamente no slot.
+
O DIMM encaixa firmemente no slot, mas deve entrar facilmente. Caso contrário, realinhar o DIMM com o slot e reinseri-lo.

+

NOTE: Inspecione visualmente o DIMM para verificar se ele está alinhado uniformemente e totalmente inserido no slot.

. Empurre com cuidado, mas firmemente, na borda superior do DIMM até que as abas do ejetor se encaixem no lugar sobre os entalhes nas extremidades do DIMM.
. Reinstale quaisquer risers que você tenha removido do módulo do controlador.
. Feche a conduta de ar.




== Etapa 4: Reinstale o módulo do controlador

Reinstale o módulo do controlador e reinicie-o.

.Passos
. Alinhe a extremidade do módulo do controlador com a abertura no chassis e, em seguida, empurre cuidadosamente o módulo do controlador até meio do sistema.
+

NOTE: Não introduza completamente o módulo do controlador no chassis até ser instruído a fazê-lo.

. Recable o sistema, conforme necessário.
+
Se você removeu os conversores de Mídia (QSFPs ou SFPs), lembre-se de reinstalá-los se você estiver usando cabos de fibra ótica.

. Conclua a reinstalação do módulo do controlador:
+
.. Empurre firmemente o módulo do controlador para dentro do chassi até que ele atenda ao plano médio e esteja totalmente assentado.
+
Os trincos de bloqueio sobem quando o módulo do controlador está totalmente assente.

+

NOTE: Não utilize força excessiva ao deslizar o módulo do controlador para dentro do chassis para evitar danificar os conetores.

.. Rode os trincos de bloqueio para cima, inclinando-os de forma a que estes limpem os pinos de bloqueio e, em seguida, baixe-os para a posição de bloqueio.
.. Conete os cabos de alimentação às fontes de alimentação, reinstale o colar de travamento do cabo de alimentação e, em seguida, conete as fontes de alimentação à fonte de alimentação.
+
O módulo do controlador começa a inicializar assim que a energia é restaurada. Esteja preparado para interromper o processo de inicialização.

.. Se ainda não o tiver feito, reinstale o dispositivo de gerenciamento de cabos.


. Volte a colocar o controlador afetado em funcionamento normal, devolvendo o respetivo armazenamento:
+
`storage failover giveback -ofnode _impaired_node_name_`.

. Se a giveback automática foi desativada, reative-a:
+
`storage failover modify -node local -auto-giveback true`.

. Se o AutoSupport estiver ativado, restaurar/anular a criação automática de casos:
+
`system node autosupport invoke -node * -type all -message MAINT=END`.





== Passo 5: Devolva a peça com falha ao NetApp

Devolva a peça com falha ao NetApp, conforme descrito nas instruções de RMA fornecidas com o kit. Consulte a https://mysupport.netapp.com/site/info/rma["Devolução de peças e substituições"] página para obter mais informações.

---
permalink: asa-r2-70-90/io-module-hotswap.html 
sidebar: sidebar 
keywords: asa a70, asa a90, hot swap a cluster ha card, hot swap ethernet client io module, hotswap io module, hot swap io module 
summary: Você pode realizar a substituição a quente de um módulo de E/S Ethernet em seu ASA A70 ou ASA A90 sistema de storage caso um módulo apresente falha e seu sistema de storage atenda a todos os requisitos de versão do ONTAP. 
---
= Substituição a quente de um módulo de E/S - ASA A70 e ASA A90
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Você pode realizar a substituição a quente de um módulo de E/S Ethernet em seu ASA A70 ou ASA A90 sistema de storage caso um módulo apresente falha e seu sistema de storage atenda a todos os requisitos de versão do ONTAP.

Para substituição a quente de um módulo de E/S, certifique-se de que seu sistema de storage esteja executando ONTAP 9.18.1 GA ou posterior, prepare seu sistema de storage e o módulo de E/S, realize a substituição a quente do módulo com falha, coloque o módulo de substituição online, restaure o sistema de storage à operação normal e devolva o módulo com falha à NetApp.

.Sobre esta tarefa
* Você não precisa realizar um takeover manual antes de substituir o módulo de E/S com defeito.
* Aplique os comandos ao controlador e ao slot de E/S corretos durante a substituição a quente:
+
** O _controlador com defeito_ é o controlador no qual você está substituindo o módulo de E/S.
** O _controlador saudável_ é o parceiro HA do controlador prejudicado.


* Você pode ativar os LEDs de localização (azuis) do sistema de storage para auxiliar na localização física do sistema de storage. Faça login no BMC usando SSH e insira o comando  `system location-led _on_`.
+
O sistema de storage inclui três LEDs indicadores de localização: um no painel de controle do operador e um em cada controlador. Os LEDs permanecem acesos por 30 minutos.

+
Você pode desativá-los digitando o `system location-led _off_` comando. Se não tiver a certeza se os LEDs estão ligados ou desligados, pode verificar o seu estado introduzindo o `system location-led show` comando.





== Etapa 1: Certifique-se de que o sistema de armazenamento atenda aos requisitos do procedimento

Para utilizar este procedimento, seu sistema de storage deve estar executando ONTAP 9.18.1 GA ou posterior, e seu sistema de storage deve atender a todos os requisitos.


NOTE: Se o seu sistema de storage não estiver executando ONTAP 9.18.1 GA ou posterior, você não pode usar este procedimento, você deve usar o link:io-module-replace.html["procedimento de substituição de um módulo de E/S"].

* Você está realizando a substituição a quente de um módulo de E/S Ethernet em qualquer slot que possua qualquer combinação de portas usadas para cluster, HA e cliente, por um módulo de E/S equivalente. Você não pode alterar o tipo do módulo de E/S.
+
Módulos de E/S Ethernet com portas usadas para armazenamento ou MetroCluster não são com substituição a quente.

* Seu sistema de storage (configuração de cluster com ou sem switch) pode ter qualquer número de nós suportados para o seu sistema de storage.
* Todos os nós do cluster devem estar executando a mesma versão do ONTAP (ONTAP 9.18.1GA ou posterior) ou executando diferentes níveis de patch da mesma versão do ONTAP.
+
Se os nós do seu cluster estiverem executando versões diferentes do ONTAP, isso é considerado um cluster de versões mistas e a substituição a quente de um módulo de E/S não é suportada.



* Os controladores do seu sistema de storage podem estar em um dos seguintes estados:
+
** Ambos os controladores podem estar ativos e executando E/S (servindo dados).
** Qualquer um dos controladores pode estar em estado de takeover se o takeover tiver sido causado pelo módulo de E/S com falha e os nós estiverem funcionando corretamente.
+
Em determinadas situações, ONTAP pode realizar automaticamente um takeover de qualquer um dos controladores devido à falha do módulo de E/S. Por exemplo, se o módulo de E/S com falha contiver todas as portas do cluster (todos os links do cluster nesse controlador ficarem inativos), ONTAP realiza automaticamente um takeover.





* Todos os outros componentes do sistema de armazenamento devem estar a funcionar corretamente; caso contrário, contacte https://mysupport.netapp.com/site/global/dashboard["Suporte à NetApp"] antes de continuar com este procedimento.




== Etapa 2: prepare o sistema de storage e o slot do módulo de E/S

Prepare o sistema de storage e o slot do módulo de I/O para que seja seguro remover o módulo de I/O com defeito:

.Passos
. Aterre-se corretamente.
. Identifique os cabos para saber de onde vieram e, em seguida, desconecte todos os cabos do módulo de E/S de destino.
+
[NOTE]
====
O módulo de E/S deve apresentar falha (as portas devem estar no estado de link inativo); no entanto, se os links ainda estiverem ativos e contiverem a última porta funcional do cluster, desconectar os cabos aciona um takeover automático.

Aguarde cinco minutos após desconectar os cabos para garantir que quaisquer takeovers ou failovers de LIF sejam concluídos antes de prosseguir com este procedimento.

====
. Se o AutoSupport estiver ativado, suprimir a criação automática de casos invocando uma mensagem AutoSupport:
+
`system node autosupport invoke -node * -type all -message MAINT=<number of hours down>h`

+
Por exemplo, a seguinte mensagem do AutoSupport suprime a criação automática de casos por duas horas:

+
`node2::> system node autosupport invoke -node * -type all -message MAINT=2h`

. Desative o giveback automático se o nó parceiro tiver sido assumido:
+
[cols="1,2"]
|===
| Se... | Então... 


 a| 
Se um dos controladores realizou o takeover automático do seu parceiro
 a| 
Desabilitar devolução automática:

.. Digite o seguinte comando no console do controlador que fez o takeover do controlador do parceiro:
+
`storage failover modify -node local -auto-giveback false`

.. Digitar `y` quando você vê o prompt _Você quer desabilitar o retorno automático?_




 a| 
Ambos os controladores estão ativos e executando E/S (servindo dados)
 a| 
Vá para a próxima etapa.

|===
. Prepare o módulo de E/S com defeito para remoção, retirando-o de serviço e desligando-o:
+
.. Digite o seguinte comando:
+
`system controller slot module remove -node _impaired_node_name_ -slot _slot_number_`

.. Digitar `y` quando você vê o prompt _Você quer continuar?_
+
Por exemplo, o seguinte comando prepara o módulo com falha no slot 7 do nó 2 (o controlador com defeito) para remoção e exibe uma mensagem que é seguro removê-lo:

+
[listing]
----
node2::> system controller slot module remove -node node2 -slot 7

Warning: IO_2X_100GBE_NVDA_NIC module in slot 7 of node node2 will be powered off for removal.

Do you want to continue? {y|n}: y

The module has been successfully removed from service and powered off. It can now be safely removed.
----


. Verifique se o módulo de E/S com falha está desligado:
+
`system controller slot module show`

+
O resultado deve mostrar  `_powered-off_` na  `_status_` coluna para o módulo com falha e seu número de slot.





== Etapa 3: substitua o módulo de E/S com defeito

Substitua o módulo de I/O com defeito por um módulo de I/O equivalente.

.Passos
. Se você ainda não está aterrado, aterre-se adequadamente.
. Gire a bandeja de gerenciamento de cabos para baixo puxando os botões no interior da bandeja de gerenciamento de cabos e girando-a para baixo.
. Retire o módulo de e/S do módulo do controlador:
+

NOTE: A ilustração a seguir mostra a remoção de um módulo de E/S horizontal e vertical. Normalmente, você removerá apenas um módulo de E/S.

+
image::../media/drw_a70_90_io_remove_replace_ieops-1532.svg[Remova o módulo de e/S.]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["Legenda número 1"]
 a| 
Botão de bloqueio do came

|===
+
.. Prima o botão do trinco do excêntrico.
.. Rode o trinco do excêntrico para longe do módulo o mais longe possível.
.. Retire o módulo do módulo do controlador encaixando o dedo na abertura da alavanca do came e puxando o módulo para fora do módulo do controlador.
+
Mantenha o controle de qual slot o módulo de E/S estava.



. Coloque o módulo de e/S de lado.
. Instale o módulo de e/S de substituição na ranhura de destino:
+
.. Alinhe o módulo de e/S com as extremidades da ranhura.
.. Deslize cuidadosamente o módulo para dentro do slot até o módulo do controlador e, em seguida, gire o trinco do came totalmente para cima para bloquear o módulo no lugar.


. Faça o cabo do módulo de e/S.
. Rode o tabuleiro de gestão de cabos para a posição de bloqueio.




== Etapa 4: Coloque o módulo de E/S de substituição online

Coloque o módulo de E/S de substituição online, verifique se as portas do módulo de E/S foram inicializadas com sucesso, verifique se o slot está energizado e então verifique se o módulo de E/S está online e reconhecido.

.Sobre esta tarefa
Após a substituição do módulo de E/S e o retorno das portas ao estado normal de funcionamento, os LIFs são revertidos para o módulo de E/S substituído.

.Passos
. Coloque o módulo de E/S de substituição em funcionamento:
+
.. Digite o seguinte comando:
+
`system controller slot module insert -node _impaired_node_name_ -slot _slot_number_`

.. Digitar `y` quando você vê o prompt, _Você quer continuar?_
+
A saída deve confirmar que o módulo de E/S foi colocado online com sucesso (ligado, inicializado e colocado em funcionamento).

+
Por exemplo, o seguinte comando coloca o slot 7 no nó 2 (o controlador com defeito) online e exibe uma mensagem que o processo foi bem-sucedido:

+
[listing]
----
node2::> system controller slot module insert -node node2 -slot 7

Warning: IO_2X_100GBE_NVDA_NIC module in slot 7 of node node2 will be powered on and initialized.

Do you want to continue? {y|n}: `y`

The module has been successfully powered on, initialized and placed into service.
----


. Verifique se cada porta do módulo de E/S foi inicializada com sucesso:
+
.. Digite o seguinte comando no console do controlador com defeito:
+
`event log show -event \*hotplug.init*`

+

NOTE: Pode levar vários minutos para quaisquer atualizações de firmware necessárias e a inicialização das portas.

+
A saída deve mostrar um ou mais eventos EMS hotplug.init.success e `_hotplug.init.success:_` na `_Event_` coluna, indicando que cada porta do módulo de E/S foi inicializada com sucesso.

+
Por exemplo, a seguinte saída mostra que a inicialização foi bem-sucedida para as portas de I/O e7b e e7a:

+
[listing]
----
node2::> event log show -event *hotplug.init*

Time                Node             Severity      Event

------------------- ---------------- ------------- ---------------------------

7/11/2025 16:04:06  node2      NOTICE        hotplug.init.success: Initialization of ports "e7b" in slot 7 succeeded

7/11/2025 16:04:06  node2      NOTICE        hotplug.init.success: Initialization of ports "e7a" in slot 7 succeeded

2 entries were displayed.
----
.. Caso a inicialização da porta falhe, consulte o log do EMS para saber os próximos passos a serem tomados.


. Verifique se o slot do módulo de E/S está energizado e pronto para operação:
+
`system controller slot module show`

+
A saída deve mostrar o status do slot como  `_powered-on_` e, portanto, pronto para operação do módulo de I/O.

. Verifique se o módulo de I/O está online e reconhecido.
+
Digite o comando do console do controlador com deficiência:

+
`system controller config show -node local -slot _slot_number_`

+
Se o módulo de E/S foi conectado com sucesso e é reconhecido, a saída exibirá informações do módulo de E/S, incluindo informações da porta do slot.

+
Por exemplo, você deverá ver uma saída semelhante à seguinte para um módulo de I/O no slot 7:

+
[listing]
----
node2::> system controller config show -node local -slot 7

Node: node2
Sub- Device/
Slot slot Information
---- ---- -----------------------------
   7    - Dual 40G/100G Ethernet Controller CX6-DX
                  e7a MAC Address: d0:39:ea:59:69:74 (auto-100g_cr4-fd-up)
                          QSFP Vendor:        CISCO-BIZLINK
                          QSFP Part Number:   L45593-D218-D10
                          QSFP Serial Number: LCC2807GJFM-B
                  e7b MAC Address: d0:39:ea:59:69:75 (auto-100g_cr4-fd-up)
                          QSFP Vendor:        CISCO-BIZLINK
                          QSFP Part Number:   L45593-D218-D10
                          QSFP Serial Number: LCC2809G26F-A
                  Device Type:        CX6-DX PSID(NAP0000000027)
                  Firmware Version:   22.44.1700
                  Part Number:        111-05341
                  Hardware Revision:  20
                  Serial Number:      032403001370
----




== Etapa 5: restaurar o sistema de armazenamento para operação normal

Restaure o sistema de storage ao funcionamento normal, devolvendo o armazenamento ao controlador que foi assumido (conforme necessário), restaurando o giveback automático (conforme necessário), verificando se as LIFs estão em suas portas de origem e reativando a criação automática de casos do AutoSupport.

.Passos
. Conforme necessário para a versão do ONTAP que seu sistema de storage está executando e o estado dos controladores, devolva o armazenamento e restaure o giveback automático no controlador que foi assumido:
+
[cols="1,2"]
|===
| Se... | Então... 


 a| 
Se um dos controladores realizou o takeover automático do seu parceiro
 a| 
.. Retorne o controlador que foi assumido ao funcionamento normal realizando o giveback do seu armazenamento:
+
`storage failover giveback -ofnode _controller that was taken over_name_`

.. Restaurar o giveback automático a partir do console do controlador que foi assumido:
+
`storage failover modify -node local -auto-giveback _true_`





 a| 
Ambos os controladores estão ativos e executando E/S (servindo dados)
 a| 
Vá para a próxima etapa.

|===
. Verifique se as interfaces lógicas estão relatando ao nó e às portas de origem: `network interface show -is-home false`
+
Se algum LIFs estiver listado como false, reverta-os para suas portas iniciais: `network interface revert -vserver * -lif *`

. Se o AutoSupport estiver ativado, restaure a criação automática de casos:
+
`system node autosupport invoke -node * -type all -message MAINT=end`





== Passo 6: Devolva a peça com falha ao NetApp

Devolva a peça com falha ao NetApp, conforme descrito nas instruções de RMA fornecidas com o kit. Consulte a https://mysupport.netapp.com/site/info/rma["Devolução de peças e substituições"] página para obter mais informações.

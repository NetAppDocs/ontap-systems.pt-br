---
permalink: asa-r2-c30/io-module-replace.html 
sidebar: sidebar 
keywords: asa c30, replace a pcie card 
summary: Substitua um módulo de E/S no seu sistema de armazenamento ASA C30 quando o módulo falhar ou precisar de uma atualização para oferecer suporte a maior desempenho ou recursos adicionais. O processo de substituição envolve desligar o controlador, substituir o módulo de e/S com falha, reiniciar o controlador e devolver a peça com falha ao NetApp. 
---
= Substitua um módulo de e/S - ASA C30
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Substitua um módulo de E/S no seu sistema de armazenamento ASA C30 quando o módulo falhar ou precisar de uma atualização para oferecer suporte a maior desempenho ou recursos adicionais. O processo de substituição envolve desligar o controlador, substituir o módulo de e/S com falha, reiniciar o controlador e devolver a peça com falha ao NetApp.

Use este procedimento para substituir um módulo de e/S com falha.

.Antes de começar
Todos os outros componentes do sistema de armazenamento têm de estar a funcionar corretamente; caso contrário, tem de contactar https://mysupport.netapp.com/site/global/dashboard["Suporte à NetApp"] antes de prosseguir com este procedimento.

.Sobre esta tarefa
Se necessário, você pode ligar os LEDs de localização do sistema de armazenamento (azul) para ajudar a localizar fisicamente o sistema de armazenamento afetado. Faça login no BMC usando SSH e digite o `system location-led _on_` comando.

Um sistema de armazenamento tem três LEDs de localização: Um no painel de visualização do operador e um em cada controlador. Os LEDs de localização permanecem acesos durante 30 minutos.

Você pode desativá-los digitando o `system location-led _off_` comando. Se não tiver a certeza se os LEDs estão ligados ou desligados, pode verificar o seu estado introduzindo o `system location-led show` comando.



== Passo 1: Desligue o controlador desativado

Para encerrar o controlador com deficiência, você deve determinar o status do controlador e, se necessário, assumir o controlador para que o controlador saudável continue fornecendo dados do armazenamento do controlador com deficiência.

.Sobre esta tarefa
* Se você tiver um sistema SAN, você deve ter verificado mensagens de  `cluster kernel-service show`evento ) para o blade SCSI do controlador afetado. O `cluster kernel-service show` comando (do modo avançado priv) exibe o nome do nó, link:https://docs.netapp.com/us-en/ontap/system-admin/display-nodes-cluster-task.html["status do quorum"]desse nó, o status de disponibilidade desse nó e o status operacional desse nó.
+
Cada processo SCSI-blade deve estar em quórum com os outros nós no cluster. Qualquer problema deve ser resolvido antes de prosseguir com a substituição.

* Se você tiver um cluster com mais de dois nós, ele deverá estar no quórum. Se o cluster não estiver em quórum ou se um controlador íntegro exibir false para qualificação e integridade, você deverá corrigir o problema antes de encerrar o controlador prejudicado; link:https://docs.netapp.com/us-en/ontap/system-admin/synchronize-node-cluster-task.html?q=Quorum["Sincronize um nó com o cluster"^]consulte .


.Passos
. Se o AutoSupport estiver ativado, suprimir a criação automática de casos invocando uma mensagem AutoSupport:
+
`system node autosupport invoke -node * -type all -message MAINT=<# of hours>h`

+
A seguinte mensagem AutoSupport suprime a criação automática de casos por duas horas:

+
`cluster1:> system node autosupport invoke -node * -type all -message MAINT=2h`

. Desative a giveback automática a partir da consola do controlador saudável:
+
`storage failover modify -node local -auto-giveback false`

+

NOTE: Quando vir _do pretende desativar a auto-giveback?_, introduza `y`.

. Leve o controlador prejudicado para o prompt Loader:
+
[cols="1,2"]
|===
| Se o controlador afetado estiver a apresentar... | Então... 


 a| 
O prompt Loader
 a| 
Vá para a próxima etapa.



 a| 
A aguardar pela giveback...
 a| 
Pressione Ctrl-C e responda `y` quando solicitado.



 a| 
Prompt do sistema ou prompt de senha
 a| 
Assuma ou interrompa o controlador prejudicado do controlador saudável:

`storage failover takeover -ofnode _impaired_node_name_ -halt _true_`

O parâmetro _-halt True_ traz para o prompt Loader.

|===




== Passo 2: Substitua um módulo de e/S com falha

Para substituir um módulo de e/S com falha, localize-o no controlador e siga a sequência específica de passos.

.Passos
. Se você ainda não está aterrado, aterre-se adequadamente.
. Desconete o cabeamento do módulo de e/S com falha.
+
Certifique-se de etiquetar os cabos para que você saiba de onde eles vieram.

. Remova o módulo de e/S com falha do controlador:
+
image::../media/drw_g_io_module_replace_ieops-1900.svg[Remova o módulo de e/S.]

+
[cols="1,4"]
|===


 a| 
image::../media/icon_round_1.png[Legenda número 1]
 a| 
Rode o parafuso de aperto manual do módulo de e/S no sentido contrário ao dos ponteiros do relógio para soltar.



 a| 
image::../media/icon_round_2.png[Legenda número 2]
 a| 
Puxe o módulo de e/S para fora do controlador usando a aba da etiqueta da porta à esquerda e o parafuso de aperto manual.

|===
. Instale o módulo de e/S de substituição na ranhura de destino:
+
.. Alinhe o módulo de e/S com as extremidades da ranhura.
.. Empurre cuidadosamente o módulo de e/S totalmente para dentro da ranhura, certificando-se de que assenta corretamente o módulo no conetor.
+
Você pode usar a aba à esquerda e o parafuso de aperto manual para empurrar o módulo de e/S.

.. Rode o parafuso de aperto manual no sentido dos ponteiros do relógio para apertar.


. Faça o cabo do módulo de e/S.




== Passo 3: Reinicie o controlador

Depois de substituir um módulo de e/S, tem de reiniciar o controlador.

.Passos
. Reinicie o controlador a partir do prompt Loader: `bye`
+
Reiniciar o controlador prejudicado também reinicializa os módulos de e/S e outros componentes.

. Retorne o nó à operação normal: `storage failover giveback -ofnode _impaired_node_name_`
. Restaure a giveback automática a partir da consola do controlador saudável: `storage failover modify -node local -auto-giveback _true_`




== Passo 4: Devolva a peça com falha ao NetApp

Devolva a peça com falha ao NetApp, conforme descrito nas instruções de RMA fornecidas com o kit. Consulte a https://mysupport.netapp.com/site/info/rma["Devolução de peças e substituições"] página para obter mais informações.
